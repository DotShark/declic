<script setup lang="ts">
defineProps<{
  text: string
  selected: boolean
  type: 'SINGLE_CHOICE' | 'MULTIPLE_CHOICE'
}>()

defineEmits<{
  select: []
}>()
</script>

<template>
  <button
    class="flex items-center gap-4 p-4 rounded-xl border-2 transition-all text-left"
    :class="{
      'border-blue-600 bg-blue-50 dark:border-blue-500 dark:bg-blue-900/20':
        selected,
      'border-gray-300 bg-white hover:border-gray-400 dark:border-gray-600 dark:bg-gray-800 dark:hover:border-gray-500':
        !selected,
    }"
    :aria-pressed="selected"
    @click="$emit('select')"
  >
    <!-- Radio/Checkbox Icon -->
    <div class="w-6 h-6">
      <Icon
        :name="
          type === 'SINGLE_CHOICE'
            ? selected
              ? 'lucide:circle-dot'
              : 'lucide:circle'
            : selected
              ? 'lucide:check-square'
              : 'lucide:square'
        "
        size="24"
        :class="{
          'text-blue-600 dark:text-blue-400': selected,
          'text-gray-400 dark:text-gray-500': !selected,
        }"
        aria-hidden="true"
      />
    </div>

    <!-- Option Text -->
    <span
      class="flex-1 text-base font-medium font-family-inter"
      :class="{
        'text-gray-900 dark:text-white': selected,
        'text-gray-700 dark:text-gray-300': !selected,
      }"
    >
      {{ text }}
    </span>
  </button>
</template>
